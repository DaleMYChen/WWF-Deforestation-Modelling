<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lot/Parcel Selector</title>
  <script src="https://unpkg.com/htmx.org@1.9.2"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="bg-gray-100 p-5">
  <div class="max-w-md mx-auto bg-white p-4 rounded shadow">
    <div class="mb-4">
      <label for="lot-id" class="block text-sm font-medium text-gray-700">Search for Lot/Parcel ID</label>
      <div class="flex mt-1">
        <input id="lot-id" name="lot_id" type="text" class="flex-1 block w-full border-gray-300 rounded-l-md focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" placeholder="1/CJ10">
        <button 
          hx-post="http://127.0.0.1:5000/add-lot"
          hx-target="#lot-list"
          hx-swap="beforeend"
          hx-vals='{"lot_id": "AAAA" }'
          class="bg-green-500 text-white px-4 py-2 rounded-r-md hover:bg-green-600">
          Add
        </button>
      </div>
    </div>

    <div id="lot-list" class="space-y-2">
      <!-- Dynamically populated lot items -->
    </div>
    <button 
      hx-post="http://127.0.0.1:5000/delete-all"
      hx-target="#lot-list"
      hx-swap="innerHTML"
      class="mt-4 bg-red-500 text-white w-full py-2 rounded-md hover:bg-red-600">
      Delete all
    </button>
  </div>
</body>
</html>
